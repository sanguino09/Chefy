<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chefy · Recetas inteligentes</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <div class="background"></div>
  <header class="topbar">
    <div class="brand">
      <span class="brand__logo" aria-hidden="true">🍳</span>
      <span class="brand__name">Chefy</span>
    </div>
    <nav class="topbar__nav" aria-label="Acciones">
      <span id="userWelcome" class="user-badge" hidden></span>
      <button id="settingsButton" class="ghost icon-label" type="button" aria-haspopup="dialog" aria-controls="settingsPanel">
        <span class="icon" aria-hidden="true">⚙️</span>
        <span class="label">Configuración</span>
      </button>
      <div class="auth-group">
        <button id="authToggle" class="primary ghost icon-label" type="button" aria-haspopup="dialog" aria-controls="authDialog">
          <span class="icon" aria-hidden="true">🔑</span>
          <span class="label">Iniciar sesión</span>
        </button>
        <button
          id="adminButton"
          class="ghost icon-only"
          type="button"
          aria-haspopup="dialog"
          aria-controls="adminDialog"
          title="Panel de super admin"
          hidden
        >
          <span aria-hidden="true">🛠️</span>
          <span class="sr-only">Panel de super admin</span>
        </button>
        <button
          id="logoutButton"
          class="ghost icon-only"
          type="button"
          aria-label="Cerrar sesión"
          title="Cerrar sesión"
          hidden
        >
          <span aria-hidden="true">🚪</span>
        </button>
      </div>
    </nav>
  </header>

  <main class="layout" id="mainContent">
    <nav class="primary-tabs" role="tablist" aria-label="Vistas principales">
      <button
        type="button"
        class="primary-tabs__tab primary-tabs__tab--active"
        id="cookTab"
        role="tab"
        aria-selected="true"
        aria-controls="cookPanel"
        data-panel="cookPanel"
      >
        Cocinar
      </button>
      <button
        type="button"
        class="primary-tabs__tab"
        id="discoverTab"
        role="tab"
        aria-selected="false"
        aria-controls="discoverPanel"
        data-panel="discoverPanel"
      >
        Descubrir
      </button>
    </nav>

    <section id="cookPanel" class="primary-panel primary-panel--active" role="tabpanel" aria-labelledby="cookTab">
      <section class="hero" aria-labelledby="heroTitle">
        <div class="hero__content">
          <div class="hero__heading">
            <h1 id="heroTitle">Tu sous-chef personal, siempre listo</h1>
            <p class="hero__subtitle">
              Genera desayunos, comidas o cenas inspiradas en tus gustos, valora tus favoritas y comparte planes completos con la comunidad.
            </p>
          </div>
          <div class="hero__activities">
            <p class="hero__activities-title" id="heroActivitiesTitle">Actividades del día</p>
            <div class="hero__activities-buttons" role="group" aria-labelledby="heroActivitiesTitle">
              <button type="button" class="hero__activity-button" data-meal-option="desayuno" aria-pressed="false">
                <span class="hero__activity-icon" aria-hidden="true">🌅</span>
                <span>Desayuno</span>
              </button>
              <button type="button" class="hero__activity-button" data-meal-option="comida" aria-pressed="false">
                <span class="hero__activity-icon" aria-hidden="true">🌞</span>
                <span>Comida</span>
              </button>
              <button type="button" class="hero__activity-button" data-meal-option="cena" aria-pressed="false">
                <span class="hero__activity-icon" aria-hidden="true">🌙</span>
                <span>Cena</span>
              </button>
            </div>
          </div>
          <div class="hero__cta">
            <button id="generateButton" class="cta-button" type="button">
              Generar receta
            </button>
            <p class="meal-hint" id="mealHint">Preparado para sorprenderte en cualquier momento del día.</p>
          </div>
        </div>
        <div class="hero__visual" aria-hidden="true">
          <figure class="hero-cat">
            <svg class="hero-cat__svg" viewBox="0 0 320 320" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="heroCatBody" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#fde68a" />
                  <stop offset="100%" stop-color="#fbbf24" />
                </linearGradient>
                <linearGradient id="heroCatApron" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#38bdf8" />
                  <stop offset="100%" stop-color="#0ea5e9" />
                </linearGradient>
                <linearGradient id="heroCatTail" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#fbbf24" />
                  <stop offset="100%" stop-color="#f59e0b" />
                </linearGradient>
              </defs>
              <ellipse cx="160" cy="276" rx="110" ry="26" fill="rgba(15, 23, 42, 0.55)" />
              <path
                d="M236 188C274 168 286 222 248 242C232 250 222 236 228 220C232 208 248 210 252 202C256 194 248 188 236 188Z"
                fill="url(#heroCatTail)"
              />
              <path
                d="M106 152C72 154 56 188 66 226C78 268 114 292 160 292C206 292 242 268 254 226C264 188 248 154 214 152Z"
                fill="url(#heroCatBody)"
              />
              <path
                d="M128 194C108 196 102 220 112 244C122 268 140 280 160 280C180 280 198 268 208 244C218 220 212 196 192 194Z"
                fill="#fef3c7"
              />
              <path
                d="M112 86L132 36L148 90Z"
                fill="#fbbf24"
              />
              <path
                d="M172 90L188 36L208 86Z"
                fill="#fbbf24"
              />
              <path
                d="M118 88L132 52L144 90Z"
                fill="#fef3c7"
              />
              <path
                d="M176 90L188 52L202 88Z"
                fill="#fef3c7"
              />
              <circle cx="160" cy="124" r="60" fill="url(#heroCatBody)" />
              <ellipse cx="160" cy="146" rx="44" ry="34" fill="#fef3c7" />
              <rect x="120" y="48" width="80" height="26" rx="13" fill="#f8fafc" />
              <path
                d="M130 22C120 22 112 30 114 42C116 54 126 60 134 58H186C194 60 204 54 206 42C208 30 200 22 190 22Z"
                fill="#f8fafc"
              />
              <path d="M130 58H190" stroke="#e2e8f0" stroke-width="4" stroke-linecap="round" />
              <circle cx="140" cy="122" r="12" fill="#0f172a" />
              <circle cx="180" cy="122" r="12" fill="#0f172a" />
              <circle cx="136" cy="118" r="3" fill="#f8fafc" />
              <circle cx="176" cy="118" r="3" fill="#f8fafc" />
              <path d="M152 134L168 134L160 142Z" fill="#f97316" />
              <path d="M152 146C152 152 158 156 160 156C162 156 168 152 168 146" stroke="#f97316" stroke-width="3" stroke-linecap="round" />
              <circle cx="132" cy="144" r="9" fill="#fda4af" opacity="0.8" />
              <circle cx="188" cy="144" r="9" fill="#fda4af" opacity="0.8" />
              <path d="M118 132C104 132 94 132 86 126" stroke="#f8fafc" stroke-width="4" stroke-linecap="round" />
              <path d="M118 144C104 144 92 146 82 140" stroke="#f8fafc" stroke-width="4" stroke-linecap="round" />
              <path d="M202 132C216 132 226 132 234 126" stroke="#f8fafc" stroke-width="4" stroke-linecap="round" />
              <path d="M202 144C216 144 228 146 238 140" stroke="#f8fafc" stroke-width="4" stroke-linecap="round" />
              <ellipse cx="128" cy="252" rx="28" ry="20" fill="#fef3c7" />
              <ellipse cx="192" cy="252" rx="28" ry="20" fill="#fef3c7" />
              <path
                d="M132 208C134 240 144 258 160 258C176 258 186 240 188 208Z"
                fill="url(#heroCatApron)"
              />
              <path d="M126 198C126 190 134 182 160 182C186 182 194 190 194 198" stroke="#38bdf8" stroke-width="6" stroke-linecap="round" />
              <path d="M100 206C112 214 118 232 120 246" stroke="#38bdf8" stroke-width="6" stroke-linecap="round" />
              <path d="M220 206C208 214 202 232 200 246" stroke="#38bdf8" stroke-width="6" stroke-linecap="round" />
              <path
                d="M110 210C94 198 82 178 98 164C110 154 124 158 134 168C142 176 144 190 138 200"
                fill="#fef3c7"
              />
              <path
                d="M208 210C224 198 236 178 220 164C208 154 194 158 184 168C176 176 174 190 180 200"
                fill="#fef3c7"
              />
              <path d="M120 70C122 78 134 88 160 88C186 88 198 78 200 70" stroke="#f8fafc" stroke-width="6" stroke-linecap="round" />
              <path
                d="M90 226C72 214 70 188 88 180C102 174 118 184 122 198"
                stroke="#f97316"
                stroke-width="8"
                stroke-linecap="round"
              />
              <path
                d="M92 178C84 164 90 148 104 144C120 140 132 152 134 166"
                fill="#f59e0b"
                opacity="0.6"
              />
              <path
                d="M214 240C232 236 246 254 236 270C226 286 204 276 204 264"
                stroke="#fde68a"
                stroke-width="6"
                stroke-linecap="round"
              />
              <circle cx="80" cy="210" r="8" fill="#38bdf8" opacity="0.6" />
              <circle cx="230" cy="180" r="6" fill="#38bdf8" opacity="0.45" />
              <circle cx="108" cy="238" r="5" fill="#fbbf24" opacity="0.65" />
              <path d="M74 126L78 138L90 142L78 146L74 158L70 146L58 142L70 138Z" fill="#38bdf8" opacity="0.5" />
              <path d="M250 110L254 120L264 124L254 128L250 138L246 128L236 124L246 120Z" fill="#f97316" opacity="0.4" />
            </svg>
          </figure>
        </div>
      </section>


      <section class="dashboard" aria-label="Panel culinario">
        <div class="dashboard__main">
          <section class="card result" aria-live="polite" aria-atomic="true">
            <header class="result__header">
              <div class="result__heading">
                <h2 class="result__title" id="resultTitle">¿Qué vamos a cocinar?</h2>
                <p class="result__subtitle" id="resultSubtitle">Inicia sesión y pulsa el botón para que Chefy te recomiende una receta increíble.</p>
            </div>
            <div class="result__actions">
              <div class="share-control">
                <button
                  id="shareButton"
                  class="ghost icon-label"
                  type="button"
                  aria-haspopup="true"
                  aria-expanded="false"
                  aria-controls="shareMenu"
                  disabled
                >
                  <span class="icon" aria-hidden="true">📤</span>
                  <span class="label">Compartir receta</span>
                </button>
                <div id="shareMenu" class="share-menu" role="menu" data-share-type="recipe" hidden>
                  <button type="button" class="share-option" data-share-target="whatsapp" role="menuitem">
                    <span class="icon" aria-hidden="true">🟢</span>
                    <span class="label">WhatsApp</span>
                  </button>
                  <button type="button" class="share-option" data-share-target="telegram" role="menuitem">
                    <span class="icon" aria-hidden="true">✈️</span>
                    <span class="label">Telegram</span>
                  </button>
                  <button type="button" class="share-option" data-share-target="email" role="menuitem">
                    <span class="icon" aria-hidden="true">✉️</span>
                    <span class="label">Correo</span>
                  </button>
                  <button type="button" class="share-option" data-share-target="copy" role="menuitem">
                    <span class="icon" aria-hidden="true">📋</span>
                    <span class="label">Copiar</span>
                  </button>
                </div>
              </div>
              <div class="result__planner" aria-live="polite">
                <label for="planDaySelect">Añadir al plan semanal</label>
                <div class="result__planner-controls">
                  <select id="planDaySelect" name="planDaySelect">
                    <option value="lunes">Lunes</option>
                    <option value="martes">Martes</option>
                    <option value="miércoles">Miércoles</option>
                    <option value="jueves">Jueves</option>
                    <option value="viernes">Viernes</option>
                    <option value="sábado">Sábado</option>
                    <option value="domingo">Domingo</option>
                  </select>
                  <button id="addToPlanButton" class="ghost" type="button" disabled>Agregar</button>
                </div>
              </div>
            </div>
          </header>
          <div class="result__tags" id="resultTags" hidden></div>
          <p class="result__calories" id="resultCalories" hidden></p>
          <section class="result__rating" id="ratingPanel" aria-live="polite" hidden>
            <div class="rating__summary">
              <span class="rating__score" id="ratingAverage">0.0</span>
              <span class="rating__count" id="ratingCount">Sin valoraciones</span>
            </div>
            <div class="rating__controls" id="ratingControls" role="radiogroup" aria-label="Tu valoración">
              <button type="button" class="rating__star" data-score="1" aria-label="1 estrella">★</button>
              <button type="button" class="rating__star" data-score="2" aria-label="2 estrellas">★</button>
              <button type="button" class="rating__star" data-score="3" aria-label="3 estrellas">★</button>
              <button type="button" class="rating__star" data-score="4" aria-label="4 estrellas">★</button>
              <button type="button" class="rating__star" data-score="5" aria-label="5 estrellas">★</button>
            </div>
            <button type="button" id="ratingResetButton" class="rating__reset" hidden>Quitar valoración</button>
            <p class="rating__note" id="ratingNote"></p>
          </section>

          <p class="result__description" id="resultDescription"></p>
          <div class="result__layout" id="resultDetails" hidden>
            <section class="result__section">
              <h3>Ingredientes</h3>
              <ul id="resultIngredients" class="result__list"></ul>
            </section>
            <section class="result__section result__section--steps">
              <div class="result__section-header">
                <h3>Pasos guiados</h3>
                <div id="stepModeToggle" class="steps-toggle" role="group" aria-label="Modo de preparación">
                  <button type="button" class="steps-toggle__button steps-toggle__button--active" data-mode="tradicional">Modo casero</button>
                  <button type="button" class="steps-toggle__button" data-mode="thermomix">Thermomix</button>
                </div>
              </div>
              <ol id="resultSteps" class="result__list"></ol>
            </section>
            <section class="result__section">
              <h3>Alternativas inteligentes</h3>
              <ul id="resultAlternatives" class="result__list"></ul>
            </section>
          </div>
          <aside id="chefTip" class="result__tip" hidden></aside>
        </section>

        <section class="card planner" aria-labelledby="plannerTitle">
          <header class="card__header planner__header">
            <div class="planner__title">
              <h2 id="plannerTitle">Planificador semanal</h2>
              <div class="planner__selector">
                <label class="sr-only" for="planSelect">Planificación activa</label>
                <select id="planSelect" name="planSelect" aria-label="Planificación activa"></select>
                <button id="addPlanButton" class="ghost icon-only" type="button" aria-label="Crear nueva planificación">
                  <span aria-hidden="true">＋</span>
                </button>
              </div>
            </div>
            <div class="planner__actions">
              <div class="share-control">
                <button
                  id="sharePlanButton"
                  class="ghost icon-label"
                  type="button"
                  aria-haspopup="true"
                  aria-expanded="false"
                  aria-controls="planShareMenu"
                  disabled
                >
                  <span class="icon" aria-hidden="true">🗓️</span>
                  <span class="label">Compartir plan</span>
                </button>
                <div id="planShareMenu" class="share-menu" role="menu" data-share-type="plan" hidden>
                  <button type="button" class="share-option" data-share-target="whatsapp" role="menuitem">
                    <span class="icon" aria-hidden="true">🟢</span>
                    <span class="label">WhatsApp</span>
                  </button>
                  <button type="button" class="share-option" data-share-target="telegram" role="menuitem">
                    <span class="icon" aria-hidden="true">✈️</span>
                    <span class="label">Telegram</span>
                  </button>
                  <button type="button" class="share-option" data-share-target="email" role="menuitem">
                    <span class="icon" aria-hidden="true">✉️</span>
                    <span class="label">Correo</span>
                  </button>
                  <button type="button" class="share-option" data-share-target="copy" role="menuitem">
                    <span class="icon" aria-hidden="true">📋</span>
                    <span class="label">Copiar</span>
                  </button>
                </div>
              </div>
              <button id="clearPlanButton" class="ghost icon-label" type="button">
                <span class="icon" aria-hidden="true">🧹</span>
                <span class="label">Limpiar plan</span>
              </button>
            </div>
          </header>
          <p class="card__hint">Organiza desayunos, comidas y cenas en un vistazo y mantén tus ideas siempre a mano.</p>
          <div class="planner__grid" id="weeklyPlanGrid" role="grid"></div>
          <section class="shopping" aria-labelledby="shoppingTitle">
            <div class="shopping__header">
              <h3 id="shoppingTitle">Lista inteligente de la compra</h3>
              <button id="copyShoppingButton" class="ghost" type="button">Copiar</button>
            </div>
            <p class="card__hint">Se actualiza automáticamente con tus recetas planificadas.</p>
            <ul id="shoppingList" class="shopping__list"></ul>
          </section>
        </section>
      </div>

      <aside class="dashboard__aside">
        <section class="card categories" aria-labelledby="cuisineTitle">
          <header class="card__header">
            <h2 id="cuisineTitle">Categorías favoritas</h2>
            <p class="card__hint">Pulsa para priorizar un estilo culinario en tus próximas sugerencias.</p>
          </header>
          <div class="chips" id="cuisineQuickFilters"></div>
        </section>

        <section class="card history" aria-labelledby="historyTitle">
          <header class="card__header">
            <h2 id="historyTitle">Historial de recetas</h2>
            <button id="clearHistoryButton" class="ghost" type="button">Vaciar</button>
          </header>
          <p class="card__hint">Repite tus favoritas o vuelve a esas ideas que guardaste al vuelo.</p>
          <ul id="historyList" class="history__list"></ul>
        </section>
      </aside>

      </section>
    </section>

    <section id="discoverPanel" class="primary-panel" role="tabpanel" aria-labelledby="discoverTab" hidden>
      <section class="card discover" aria-labelledby="discoverTitle">
        <header class="card__header">
          <div>
            <h2 id="discoverTitle">Ideas de la comunidad</h2>
            <p class="card__hint">Explora planificaciones y recetas con mejor valoración, compartidas por otros chefs caseros.</p>
          </div>
        </header>
        <div id="discoverFeed" class="discover__list" aria-live="polite"></div>
      </section>

      <section class="card discover-form" aria-labelledby="discoverFormTitle">
        <header class="card__header">
          <div>
            <h2 id="discoverFormTitle">Comparte tus ideas</h2>
            <p class="card__hint">Publica tu última receta o plan semanal para inspirar a otros. Las valoraciones ayudan a destacar contenido.</p>
          </div>
        </header>
        <form id="discoverForm" class="discover-form__body">
          <div class="discover-form__grid">
            <div class="discover-form__group">
              <label for="discoverType">Tipo de publicación</label>
              <select id="discoverType" name="discoverType">
                <option value="recipe">Receta destacada</option>
                <option value="plan">Planificación semanal</option>
              </select>
            </div>
            <div class="discover-form__group">
              <label for="discoverAuthor">Autor</label>
              <input id="discoverAuthor" name="discoverAuthor" type="text" placeholder="Tu nombre o correo" autocomplete="off">
            </div>
          </div>
          <div class="discover-form__group">
            <label for="discoverTitleInput">Título</label>
            <input id="discoverTitleInput" name="discoverTitleInput" type="text" required placeholder="Ej. Batch cooking sin gluten">
          </div>
          <div class="discover-form__group">
            <label for="discoverSummary">Resumen breve</label>
            <textarea id="discoverSummary" name="discoverSummary" rows="2" placeholder="Cuenta qué hace especial a tu propuesta"></textarea>
          </div>
          <div class="discover-form__group">
            <label for="discoverDetails">Detalle o notas</label>
            <textarea id="discoverDetails" name="discoverDetails" rows="5" placeholder="Incluye ingredientes clave, pasos o estructura del plan"></textarea>
          </div>
          <div class="discover-form__actions">
            <button type="button" id="discoverPrefillRecipe" class="ghost">Usar mi última receta</button>
            <button type="button" id="discoverPrefillPlan" class="ghost">Usar plan activo</button>
            <button type="submit" class="primary">Compartir con la comunidad</button>
          </div>
          <p id="discoverFeedback" class="form-feedback" role="status"></p>
        </form>
      </section>
    </section>
  </main>

  <footer class="footer">
    <p class="footer__brand">© <span id="currentYear"></span> Chefy. Cocina inteligente, cada día.</p>
    <div class="footer__links" aria-label="Información legal">
      <button type="button" class="link" data-modal="privacyDialog">Política de privacidad</button>
      <button type="button" class="link" data-modal="termsDialog">Términos y condiciones</button>
    </div>
  </footer>

  <dialog id="settingsPanel" class="modal" aria-labelledby="settingsTitle">
    <form method="dialog" class="modal__content" id="settingsForm">
      <header class="modal__header">
        <h2 id="settingsTitle">Preferencias de ingredientes</h2>
        <button type="submit" class="icon-button" aria-label="Cerrar configuración">
          ✕
        </button>
      </header>
      <p class="modal__intro">Selecciona los ingredientes que quieres excluir de tus recetas. Puedes añadir los tuyos propios.</p>
      <p id="settingsStatus" class="settings__status" role="status"></p>
      <section class="chips" id="defaultRestrictions">
        <!-- Chips autogenerados desde JavaScript -->
      </section>
      <div class="custom-restriction">
        <label for="customRestriction">Añadir ingrediente a evitar</label>
        <div class="custom-restriction__row">
          <input type="text" id="customRestriction" name="customRestriction" placeholder="Ej. judías verdes" autocomplete="off">
          <button type="button" id="addRestriction" class="ghost">Añadir</button>
        </div>
      </div>
      <section class="active-restrictions">
        <h3>Ingredientes bloqueados</h3>
        <ul id="activeRestrictions" class="active-restrictions__list" aria-live="polite"></ul>
      </section>


      <section class="settings__group">
        <h3>Estilos culinarios preferidos</h3>
        <p class="settings__hint">Selecciona los tipos de cocina que quieres priorizar. Si no eliges ninguno, tendrás recomendaciones de todo el mundo.</p>
        <div class="chips" id="cuisineChips"></div>
      </section>

    </form>
  </dialog>

  <dialog id="authDialog" class="modal" aria-labelledby="authTitle">
    <form method="dialog" class="modal__content" id="authForm">
      <header class="modal__header">
        <h2 id="authTitle">Bienvenido a Chefy</h2>
        <button type="submit" class="icon-button" aria-label="Cerrar acceso">
          ✕
        </button>
      </header>
      <div class="quick-auth" id="quickAuth">
        <p class="quick-auth__title">Acceso rápido</p>
        <div class="quick-auth__buttons">
          <button type="button" id="googleLoginButton" class="social-button social-button--google">
            <span aria-hidden="true">🟢</span>
            <span>Continuar con Google</span>
          </button>
          <button type="button" id="appleLoginButton" class="social-button social-button--apple">
            <span aria-hidden="true">🍎</span>
            <span>Continuar con Apple</span>
          </button>
          <button type="button" id="phoneLoginToggle" class="social-button social-button--phone">
            <span aria-hidden="true">📱</span>
            <span>Usar número de teléfono</span>
          </button>
        </div>
        <div id="phoneLoginContainer" class="phone-auth" hidden>
          <label for="phoneNumberInput">Número de teléfono</label>
          <div class="phone-auth__row">
            <input type="tel" id="phoneNumberInput" name="phoneNumberInput" autocomplete="tel" placeholder="Ej. +34 600 000 000">
            <button type="button" id="phoneSendCodeButton" class="ghost">Enviar código</button>
          </div>
          <div id="phoneCodeContainer" class="phone-auth__code" hidden>
            <label for="phoneCodeInput">Introduce el código</label>
            <div class="phone-auth__row">
              <input type="text" id="phoneCodeInput" name="phoneCodeInput" inputmode="numeric" maxlength="6" placeholder="123456">
              <button type="button" id="phoneVerifyButton" class="primary">Verificar y entrar</button>
            </div>
          </div>
          <p id="phoneLoginStatus" class="form-feedback"></p>
        </div>
      </div>
      <div class="tabs" role="tablist" aria-label="Método de acceso">
        <button class="tab tab--active" role="tab" id="loginTab" aria-controls="loginPanel" aria-selected="true">Iniciar sesión</button>
        <button class="tab" role="tab" id="registerTab" aria-controls="registerPanel" aria-selected="false">Crear cuenta</button>
      </div>
      <div class="tab-panel tab-panel--active" id="loginPanel" role="tabpanel" aria-labelledby="loginTab">
        <label for="loginEmail">Correo electrónico</label>
        <input type="email" id="loginEmail" autocomplete="username" required>
        <label for="loginPassword">Contraseña</label>
        <input type="password" id="loginPassword" autocomplete="current-password" required>
        <p class="form-hint">Utilizamos almacenamiento local seguro para recordar tus preferencias.</p>
        <button type="button" id="loginButton" class="primary">Entrar</button>
      </div>
      <div class="tab-panel" id="registerPanel" role="tabpanel" aria-labelledby="registerTab">
        <label for="registerEmail">Correo electrónico</label>
        <input type="email" id="registerEmail" autocomplete="username" required>
        <label for="registerPassword">Contraseña</label>
        <input type="password" id="registerPassword" autocomplete="new-password" minlength="6" required>
        <p class="form-hint">Tu cuenta guardará tus configuraciones, valoraciones y restricciones de ingredientes.</p>
        <button type="button" id="registerButton" class="primary">Registrarme</button>
      </div>
      <p class="form-feedback" id="authFeedback" role="alert"></p>
    </form>
  </dialog>

  <dialog id="adminDialog" class="modal admin" aria-labelledby="adminTitle">
    <form method="dialog" class="modal__content admin__content" id="adminShell">
      <header class="modal__header">
        <h2 id="adminTitle">Panel de super admin</h2>
        <button type="submit" class="icon-button" aria-label="Cerrar panel de super admin">✕</button>
      </header>
      <div class="admin__layout">
        <section class="admin__panel">
          <div class="admin__panel-header">
            <h3>Recetario activo</h3>
            <p class="admin__hint">Selecciona una receta para editarla o crea una nueva.</p>
          </div>
          <div class="admin__catalog">
            <ul id="adminRecipeList" class="admin-recipe-list" aria-live="polite"></ul>
            <div class="admin__actions">
              <button type="button" id="adminNewRecipeButton" class="ghost">Nueva receta</button>
              <button type="button" id="adminDeleteRecipeButton" class="ghost danger" disabled>Eliminar</button>
            </div>
          </div>
        </section>
        <section class="admin__panel">
          <div class="admin__panel-header">
            <h3>Editor de receta</h3>
            <p class="admin__hint">Completa los campos para guardar cambios o añadir una receta.</p>
          </div>
          <div class="admin-form" id="adminRecipeForm">
            <div class="admin-form__group">
              <label for="adminRecipeId">Identificador</label>
              <input id="adminRecipeId" type="text" readonly>
              <p class="form-hint">Se genera automáticamente a partir del nombre.</p>
            </div>
            <div class="admin-form__grid">
              <div class="admin-form__group">
                <label for="adminRecipeName">Nombre</label>
                <input id="adminRecipeName" type="text" required>
              </div>
              <div class="admin-form__group">
                <label for="adminRecipeMeal">Comida</label>
                <select id="adminRecipeMeal">
                  <option value="desayuno">Desayuno</option>
                  <option value="comida">Comida</option>
                  <option value="cena">Cena</option>
                </select>
              </div>
              <div class="admin-form__group">
                <label for="adminRecipeCalories">Calorías</label>
                <input id="adminRecipeCalories" type="number" min="0" step="1" placeholder="480">
              </div>
            </div>
            <div class="admin-form__grid">
              <div class="admin-form__group">
                <label for="adminRecipeTime">Tiempo</label>
                <input id="adminRecipeTime" type="text" placeholder="20 minutos">
              </div>
              <div class="admin-form__group">
                <label for="adminRecipeServings">Raciones</label>
                <input id="adminRecipeServings" type="text" placeholder="2 raciones">
              </div>
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeCuisines">Cocinas (separadas por comas)</label>
              <input id="adminRecipeCuisines" type="text" placeholder="mediterranea, fusion">
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeTags">Etiquetas (separadas por comas)</label>
              <input id="adminRecipeTags" type="text" placeholder="alto en proteínas, sin gluten">
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeKeywords">Palabras clave (separadas por comas)</label>
              <input id="adminRecipeKeywords" type="text" placeholder="pasta, tomate, albahaca">
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeDescription">Descripción corta</label>
              <textarea id="adminRecipeDescription" rows="3" placeholder="Describe brevemente la receta."></textarea>
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeIngredients">Ingredientes (uno por línea, formato "cantidad | ingrediente")</label>
              <textarea id="adminRecipeIngredients" rows="6" placeholder="1 taza | arroz integral"></textarea>
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeIngredientUnits">Formato sugerido ("ingrediente | formato recomendado")</label>
              <textarea
                id="adminRecipeIngredientUnits"
                rows="4"
                placeholder="granola casera | bolsa 300 g"
              ></textarea>
              <p class="form-hint">Se mostrará como recomendación de compra general en la ficha.</p>
            </div>
            <div class="admin-form__group">
              <label
                for="adminRecipeIngredientStores"
                >Guía de supermercados ("ingrediente | Mercadona:producto ~ formato | Carrefour:producto")</label
              >
              <textarea
                id="adminRecipeIngredientStores"
                rows="4"
                placeholder="yogur griego natural | Mercadona:Yogur griego Hacendado ~ pack 4x125 g | Carrefour:Yogur Griego Carrefour 0%"
              ></textarea>
              <p class="form-hint">
                Incluye Mercadona, Carrefour, Alcampo o Lidl. Usa "~" para indicar el formato sugerido por tienda (ej.
                Mercadona:Yogur griego ~ pack 4x125 g).
              </p>
            </div>
            <div class="admin-form__grid admin-form__grid--steps">
              <div class="admin-form__group">
                <label for="adminRecipeStepsCasero">Pasos modo casero (uno por línea)</label>
                <textarea id="adminRecipeStepsCasero" rows="6" placeholder="Describe cada paso para cocina tradicional."></textarea>
              </div>
              <div class="admin-form__group">
                <label for="adminRecipeStepsThermomix">Pasos para Thermomix (uno por línea)</label>
                <textarea id="adminRecipeStepsThermomix" rows="6" placeholder="Incluye temperatura, velocidades y tiempos."></textarea>
              </div>
              
            </div>
            <div class="admin-form__group">
              <label for="adminRecipeSwaps">Alternativas (formato "ingrediente: opción 1, opción 2")</label>
              <textarea id="adminRecipeSwaps" rows="4" placeholder="queso: tofu, levadura nutricional"></textarea>
            </div>
            <div class="admin-form__actions">
              <button type="button" id="adminSaveRecipeButton" class="primary">Guardar cambios</button>
            </div>
          </div>
        </section>
        <aside class="admin__panel admin__panel--users">
          <div class="admin__panel-header">
            <h3>Usuarios registrados</h3>
            <p class="admin__hint">Consulta los accesos creados en este navegador.</p>
          </div>
          <ul id="adminUserList" class="admin-user-list" aria-live="polite"></ul>
        </aside>
      </div>
      <p class="form-feedback" id="adminFeedback" role="status"></p>
    </form>
  </dialog>

  <dialog id="privacyDialog" class="modal legal" aria-labelledby="privacyTitle">
    <form method="dialog" class="modal__content">
      <header class="modal__header">
        <h2 id="privacyTitle">Política de privacidad</h2>
        <button type="submit" class="icon-button" aria-label="Cerrar política de privacidad">✕</button>
      </header>
      <div class="modal__body">
        <p>Chefy almacena tus datos de acceso y preferencias en tu propio navegador utilizando almacenamiento local. No compartimos tus datos con terceros.</p>
        <p>Puedes eliminar la información en cualquier momento desde la sección de configuración o borrando los datos del sitio en tu navegador.</p>
      </div>
    </form>
  </dialog>

  <dialog id="termsDialog" class="modal legal" aria-labelledby="termsTitle">
    <form method="dialog" class="modal__content">
      <header class="modal__header">
        <h2 id="termsTitle">Términos y condiciones</h2>
        <button type="submit" class="icon-button" aria-label="Cerrar términos y condiciones">✕</button>
      </header>
      <div class="modal__body">
        <p>El servicio de Chefy se ofrece tal cual. Las recetas son sugerencias generadas automáticamente. Verifica los ingredientes si tienes alergias o restricciones médicas.</p>
        <p>Al utilizar Chefy aceptas que eres responsable de revisar y validar cada receta antes de cocinarla.</p>
      </div>
    </form>
  </dialog>

  <script src="assets/js/app.js" type="module"></script>
</body>
</html>
